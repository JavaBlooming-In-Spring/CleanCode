## 질문

많은 원칙과 기법이 중복을 없애거나 제어할 목적으로 나왔다고 설명하면서 객체지향 프로그래밍은 코드를 부모클래스로 몰아 중복을 없앤다고 하였습니다. 그러면서 구조적 프로그래밍, AOP(Component Oriented Programing), COP(Component Oriented Programing) 모두 어떤 면에서 중복 제거 전략이라고 하였습니다. 여기서 대표적인 패러다임인 함수형 프로그래밍과 객체 지향 프로그래밍의 차이점과 장단점에대해 의견을 나눠 보고 정리하고자 합니다.

### 함수형 프로그래밍이란

자료 처리를 수학적 함수 의 계산으로 취급하고 상태와 가변 데이터를 멀리하는 프로그래밍 패러다임입니다.

### 왜 각광 받는가?

함수형 프로그래밍은 수학의 원리와 밀접하게 연관이 있어 배우는데 시간이 걸리고 난해합니다. 그래서 대부분 사람의 사고방식과 가까운 절차지향, 객체지향을 주로 사용하고 있었습니다. 그럼에도 최근들어 함수형 프로그래밍이 각광 받는 이유는 AI, IoT, 빅데이터, 블록체인 분야의 발전으로 방대한 데이터를 빠르게 계산해서 병렬적으로 안정적으로 처리하는 것의 중요성이 부각되었기 때문입니다.

### 함수형 프로그래밍의 4가지 특징

### 1. 순수 함수

순수함수란 함수가 함수 밖의 영역에 미치는 영향이 없으며, 같은 입력에 대해 항상 같은 값을 반환하는 함수 입니다. (**참조 투명성)**

### 2. stateless, immutability (비상태, 불변성)

- 데이터는 불변성을 유지해야 합니다.
- 데이터의 변경이 필요한 경우, 원본 데이터를 변경하지 않고 해당 데이터의 복사본을 만들어 반환하는 방식을 사용해야 합니다.

```jsx
let person = { name: "jeonghak", age: 20 };

function increaseAge(person) {
  person.age = person.age + 1;
  return person;
}
```

```jsx
const person = { name: "jeonghak", age: 20 };

function increaseAge(person) {
  return { ...person, age: person.age + 1 };
}
```

이러한 방식은 side effect를 만들지 않으므로 멀티 쓰레딩 환경에서도 안정적으로 동작할 수 있도록 합니다.

### 3. expression을 사용한다.

if, switch, for과 같은 문을 사용하는 것은 함수형 프로그래밍이 아닙니다.

```jsx
function multiply(numbers, multiplier) {
  return number.map((num) => num * multiplier);
}
```

### 4. First-class and higher-order functions를 지원한다.

1급 객체 (First Object)

- 변수나 데이터 구조안에 담을 수 있다.
- 파라미터로 전달 할 수 있다.
- 반환값(return value)으로 사용할 수 있다.
- 할당에 사용된 이름과 관계없이 고유한 구별이 가능하다.
- 동적으로 프로퍼티 할당이 가능하다.

higher-order function

- 함수형 프로그래밍에서는 여러 작은 순수 함수들을 연쇄적 혹은 병렬적으로 호출해서 더 큰 함수를 만들어나갑니다.
- 함수의 파라미터로 함수를 전달할 수 있고, 함수의 반환값으로 함수를 사용할 수 있습니다.

이러한 특징들로 인해 함수형 프로그래밍에서는 사용하는 모든 데이터가 변경 불가능(immutable)하고 함수는 부수 효과를 가지고 있지 않습니다. 때문에, 여러 스레드가 동시에 공유 데이터에 접근하더라도 해당 데이터가 변경될 수 없기 때문에 동시성과 관련된 문제를 원천적으로 봉쇄합니다.

### **장점**

1. 높은 수준의 추상화를 제공한다
2. 함수 단위의 코드 재사용이 수월하다
3. 불변성을 지향하기 때문에 프로그램의 동작을 예측하기 쉬워진다

### **단점**

1. 순수함수를 구현하기 위해서는 코드의 가독성이 좋지 않을 수 있다
2. 순수함수를 사용하는 것은 쉬울 수 있지만 조합하는 것은 쉽지 않다

함수형 프로그래밍은 그 유연성과 유용함을 인정받아 대표적인 OOP 언어인 JAVA와 C# 에서 조차 일급 객체 함수를 지원합니다. Java 8에서부터 람다(Lamda)를 지원하는 것이 대표적인 예시입니다.

함수형 프로그래밍에서 고안한 Java8 의 StreamAPI

```java
List<Integer> values = Arrays.asList(7, 5, 123, 5, 42, 95, 68, 30, 42);

List<Integer> result = values.stream()
  .filter(number -> number < 50)
  .distinct()
  .sorted(Integer::compare)
  .collect(Collectors.toList());
```

## 결론

OOP와 FP가 가지는 각자의 장단점이 있고 프로그래머는 목적에 맞게 적절히 사용할 뿐이지 두 패러다임이 서로를 대체하는 관계가 아닙니다.

두 패러다임은 서로 잘 어우러질 수 있으며 현대적 시스템에서 두 방법론의 성질은 모두 바람직합니다.

두 가지 방법을 모두 활용하면 유연하고, 유지 가능하고, 테스트 가능하면서, 단순하고 완성도 높은 시스템을 만들 수 있습니다.
